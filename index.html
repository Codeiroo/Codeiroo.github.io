<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="refresh" content="0;url=Home/index.html">
    <title>Redireccionando...</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
            color: #333;
            text-align: center;
        }
        
        .loader {
            border: 5px solid #f3f3f3;
            border-top: 5px solid #3498db;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            animation: spin 1s linear infinite;
            margin-bottom: 20px;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        a {
            color: #3498db;
            text-decoration: none;
            margin-top: 20px;
        }
        
        a:hover {
            text-decoration: underline;
        }
    </style>
</head>
<body>
    <div class="loader"></div>
    <h1>Redireccionando...</h1>
    <p>Si no es redireccionado autom치ticamente, haga clic <a href="Home/index.html">aqu칤</a>.</p>
    <script>
        window.location.href = 'Home/index.html';

        // Estructura de directorios de la aplicaci칩n
        const appStructure = {
            'CNAME': 'file',
            'index.html': 'file',
            'admin': {
                'index.html': 'file',
                'css': {
                    'admin.css': 'file'
                },
                'js': {
                    'admin.js': 'file'
                }
            },
            'Assets': {
                'errorcode.png': 'file'
            },
            'config': {
                'firebase.config.js': 'file'
            },
            'ErrorCodes': {
                'index.html': 'file',
                'css': {
                    'styles.css': 'file'
                },
                'Databases': {
                    'folders.json': 'file',
                    'Schneider': {
                        'Altivar': 'directory',
                        'LXM32': {
                            'errores.json': 'file'
                        }
                    },
                    'Siemens': 'directory'
                },
                'js': {
                    'app.js': 'file',
                    'errorLoader.js': 'file',
                    'excelLoader.js': 'file',
                    'folderLoader.js': 'file'
                }
            },
            'Home': {
                'index.html': 'file',
                'css': {
                    'styles.css': 'file'
                },
                'js': {
                    'main.js': 'file'
                }
            },
            'Viewer': {
                'xml-cvs-excel_Viewr.html': 'file',
                'css': {
                    'styles.css': 'file'
                },
                'js': {
                    'script.js': 'file'
                }
            }
        };

        // Sobreescribir console.log para capturar el comando ls
        const originalConsoleLog = console.log;
        let currentPath = [];

        console.log = function() {
            // Convertir los argumentos a una cadena
            const args = Array.from(arguments).join(' ');
            
            // Verificar si es el comando ls
            if (args.trim() === 'ls') {
                listDirectory(currentPath);
                return;
            }
            
            // Verificar si es el comando cd
            if (args.trim().startsWith('cd ')) {
                const dirName = args.trim().substring(3);
                changeDirectory(dirName);
                return;
            }
            
            // Pasar a la funci칩n original para otros comandos
            originalConsoleLog.apply(console, arguments);
        };
        
        // Funci칩n para listar el contenido del directorio actual
        function listDirectory(path) {
            let currentDir = appStructure;
            
            // Navegar hasta el directorio actual
            for (const dir of path) {
                if (currentDir[dir] && typeof currentDir[dir] === 'object') {
                    currentDir = currentDir[dir];
                } else {
                    originalConsoleLog('Error: No es un directorio v치lido');
                    return;
                }
            }
            
            // Mostrar el path actual
            originalConsoleLog(`Listando contenido de: /${path.join('/')}`);
            
            // Listar los archivos y directorios
            const entries = Object.keys(currentDir);
            
            if (entries.length === 0) {
                originalConsoleLog('(directorio vac칤o)');
                return;
            }
            
            // Ordenar las entradas: primero directorios, luego archivos
            const dirs = [];
            const files = [];
            
            entries.forEach(entry => {
                const isDir = typeof currentDir[entry] === 'object' && currentDir[entry] !== null && currentDir[entry] !== 'file';
                if (isDir) {
                    dirs.push(`游늬 ${entry}/`);
                } else {
                    files.push(`游늯 ${entry}`);
                }
            });
            
            // Mostrar directorios y archivos
            [...dirs, ...files].forEach(entry => {
                originalConsoleLog(entry);
            });
        }
        
        // Funci칩n para cambiar de directorio
        function changeDirectory(dirName) {
            if (dirName === '..') {
                // Subir un nivel
                if (currentPath.length > 0) {
                    currentPath.pop();
                    originalConsoleLog(`Cambiado a: /${currentPath.join('/')}`);
                } else {
                    originalConsoleLog('Ya est치s en la ra칤z');
                }
                return;
            }
            
            if (dirName === '/') {
                // Ir a la ra칤z
                currentPath = [];
                originalConsoleLog('Cambiado a: /');
                return;
            }
            
            // Navegar hasta el directorio actual
            let currentDir = appStructure;
            for (const dir of currentPath) {
                if (currentDir[dir] && typeof currentDir[dir] === 'object') {
                    currentDir = currentDir[dir];
                } else {
                    originalConsoleLog('Error: Ruta inv치lida');
                    return;
                }
            }
            
            // Verificar si el directorio existe
            if (currentDir[dirName] && typeof currentDir[dirName] === 'object' && currentDir[dirName] !== 'file') {
                currentPath.push(dirName);
                originalConsoleLog(`Cambiado a: /${currentPath.join('/')}`);
            } else {
                originalConsoleLog(`Error: '${dirName}' no es un directorio o no existe`);
            }
        }
        
        // Mostrar instrucciones en la consola
        setTimeout(() => {
            originalConsoleLog('=== Navegador de archivos en consola ===');
            originalConsoleLog('Comandos disponibles:');
            originalConsoleLog('  ls    - Listar archivos y carpetas');
            originalConsoleLog('  cd dir - Cambiar a un directorio');
            originalConsoleLog('  cd .. - Subir un nivel');
            originalConsoleLog('  cd /  - Ir a la ra칤z');
            originalConsoleLog('Prueba escribiendo "ls" en la consola');
        }, 1000);
        
        // Redirigir a la p치gina principal despu칠s de un breve retraso
        setTimeout(() => {
            window.location.href = 'Home/index.html';
        }, 5000);
    </script>
</body>
</html>